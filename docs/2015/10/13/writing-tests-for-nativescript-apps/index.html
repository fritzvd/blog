<!doctype html>







<html
  class="not-ready lg:text-base"
  style="--bg:#faf8f1"
  lang="en-us"
  dir="ltr"
><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Writing Tests for NativeScript apps - fritzvd</title>

  
  <meta name="theme-color" />

  <meta name="description" content="This has been bugging me for a while. While working on my business logic and REST API connection in my NativeScript project, I couldn’t write tests because requiring the tns-core-modules broke the test.
NativeScript is a library with tooling to create iOS and Android apps in JavaScript. And it works smoothly. However at the moment the docs aren’t always complete. Anyways, building and deploying an app on a mobile device (or emulator) takes somewhere in the range of a minute or so on a fast machine." />
  <meta name="author" content="fritzvd" /><link rel="preload stylesheet" as="style" href="https://fritzvd.com/blog/main.min.css" />

  
  <link rel="preload" as="image" href="https://fritzvd.com/blog/theme.png" />

  

  

  <script
    defer
    src="https://fritzvd.com/blog/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>

  
  <link
    rel="icon"
    href="https://fritzvd.com/blog/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="https://fritzvd.com/blog/apple-touch-icon.png"
  />

  <meta name="generator" content="Hugo 0.105.0"><meta itemprop="name" content="Writing Tests for NativeScript apps">
<meta itemprop="description" content="This has been bugging me for a while. While working on my business logic and REST API connection in my NativeScript project, I couldn’t write tests because requiring the tns-core-modules broke the test.
NativeScript is a library with tooling to create iOS and Android apps in JavaScript. And it works smoothly. However at the moment the docs aren’t always complete. Anyways, building and deploying an app on a mobile device (or emulator) takes somewhere in the range of a minute or so on a fast machine."><meta itemprop="datePublished" content="2015-10-13T06:49:23+00:00" />
<meta itemprop="dateModified" content="2015-10-13T06:49:23+00:00" />
<meta itemprop="wordCount" content="173">
<meta itemprop="keywords" content="nativescript,tests,code," /><meta property="og:title" content="Writing Tests for NativeScript apps" />
<meta property="og:description" content="This has been bugging me for a while. While working on my business logic and REST API connection in my NativeScript project, I couldn’t write tests because requiring the tns-core-modules broke the test.
NativeScript is a library with tooling to create iOS and Android apps in JavaScript. And it works smoothly. However at the moment the docs aren’t always complete. Anyways, building and deploying an app on a mobile device (or emulator) takes somewhere in the range of a minute or so on a fast machine." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fritzvd.com/blog/2015/10/13/writing-tests-for-nativescript-apps/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2015-10-13T06:49:23+00:00" />
<meta property="article:modified_time" content="2015-10-13T06:49:23+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Writing Tests for NativeScript apps"/>
<meta name="twitter:description" content="This has been bugging me for a while. While working on my business logic and REST API connection in my NativeScript project, I couldn’t write tests because requiring the tns-core-modules broke the test.
NativeScript is a library with tooling to create iOS and Android apps in JavaScript. And it works smoothly. However at the moment the docs aren’t always complete. Anyways, building and deploying an app on a mobile device (or emulator) takes somewhere in the range of a minute or so on a fast machine."/>

  <link rel="canonical" href="https://fritzvd.com/blog/2015/10/13/writing-tests-for-nativescript-apps/" />
</head>
<body
    class="bg-(--bg) text-black antialiased duration-200 ease-out [-webkit-tap-highlight-color:transparent] dark:text-white"
  ><header
  class="mx-auto flex h-[4.5rem] max-w-(--w) px-8 whitespace-nowrap lg:justify-center"
>
  <div class="relative z-50 flex items-center ltr:mr-auto rtl:ml-auto">
    <a
      class="-translate-y-[1px] text-2xl font-medium"
      href="https://fritzvd.com/blog/"
      >fritzvd</a
    >
    <div
      class="btn-dark text-[0px] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden ltr:-mr-8 rtl:-ml-8"
    role="button"
    aria-label="Menu"
  ></div>

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full flex-col justify-center bg-(--bg) pb-16 duration-200 select-none lg:static lg:h-auto lg:flex-row lg:bg-transparent! lg:pb-0 lg:transition-none"
  >
  </div>
</header>
<main
      class="prose prose-neutral dark:prose-invert relative mx-auto min-h-[calc(100vh-9rem)] max-w-(--w) px-8 pt-14 pb-16"
    ><article>
  <header class="mb-14">
    <h1 class="my-0! pb-2.5">Writing Tests for NativeScript apps</h1><div class="text-xs antialiased opacity-60"><time>Oct 13, 2015</time><span class="mx-1">&middot;</span>
      <span>fritzvd</span></div></header>

  <section><p>This has been bugging me for a while. While working on my business logic and REST API connection in my NativeScript project, I couldn’t write tests because requiring the tns-core-modules broke the test.</p>
<p><a href="https://www.nativescript.org/" target="_blank">NativeScript</a> is a library with tooling to create iOS and Android apps in JavaScript. And it works smoothly. However at the moment the docs aren’t always complete. Anyways, building and deploying an app on a mobile device (or emulator) takes somewhere in the range of a minute or so on a fast machine.</p>
<p>That doesn’t really work if you’re not sure if your logic makes sense.</p>
<p>In comes <code>&lt;a href=&quot;http://npmjs.com/package/proxyquire&quot; target=&quot;_blank&quot;&gt;proxyquire&lt;/a&gt;</code>. Install proxyquire:</p>
<pre><code class="syntax bash">npm install --save-dev proxyquire
</code></pre>
<p>Then make sure you stub the package you want to be stubbed, with @noCallThru.</p>
<p>Example:</p>
<p>So now you can setup mocha for example to work with the app.</p>
<pre><code class="syntax bash">npm install --save-dev mocha
</code></pre>
<p>Edit your package.json so your npm scripts reads:</p>
<pre><code class="syntax javascript">"scripts": {
    "test": "mocha tests/*",
    "start": "node index.js"
  },
</code></pre>
<p>And go ahead and run <code>npm test</code></p>
<p><small>Cover image courtesy of Willie Hardin: <a href="https://www.flickr.com/photos/14934865@N07/3134743730/">https://www.flickr.com/photos/14934865@N07/3134743730/</a></small></p>
</section>

  <footer class="mt-12 flex flex-wrap"><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://fritzvd.com/blog/tags/nativescript"
      >nativescript</a
    ><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://fritzvd.com/blog/tags/tests"
      >tests</a
    ><a
      class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://fritzvd.com/blog/tags/code"
      >code</a
    ></footer><nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg leading-[1.2]! *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  ><a class="ltr:pr-3 rtl:pl-3" href="https://fritzvd.com/blog/2017/12/22/Night-of-Grafting-Part-1/"
      ><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>Night of Grafting - Part 1</span></a
    ><a
      class="justify-end pl-3 ltr:ml-auto rtl:mr-auto"
      href="https://fritzvd.com/blog/2015/08/03/nodeconf-adventure/"
      ><span>Nodeconf Adventure</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a
    ></nav></article></main><footer
  class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60"
>
  <div class="mr-auto">&copy;2025
    <a class="link" href="https://fritzvd.com/blog/">fritzvd</a></div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>
</body>
</html>
